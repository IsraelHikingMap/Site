﻿<div [dir]="resources.direction">
    <mat-card-header *ngIf="!info.canEditTitle">
        <mat-card-title [ngClass]="resources.getTextAlignment(info.title)" [dir]="resources.getDirection(info.title)">
            <span class="text-large" [dir]="resources.getDirection(info.title)">{{info.title}}</span>
        </mat-card-title>
    </mat-card-header>
    <div class="flex flex-row">
        <mat-form-field class="w-full" *ngIf="info.canEditTitle">
            <input matInput type="text" class="w-full" [dir]="resources.getDirection(info.title)" [(ngModel)]="info.title" placeholder="{{resources.nameInLanguage}}" />
        </mat-form-field>
    </div>
    <image-scroller [images]="info.imagesUrls" [canEdit]="true"></image-scroller>
    <div class="flex flex-row">
        <mat-form-field class="w-full">
            <textarea rows="4" maxlength="255" matInput class="w-full" [dir]="resources.getDirection(info.description)" [(ngModel)]="info.description" placeholder="{{resources.descriptionInLanguage}}"></textarea>
        </mat-form-field>
    </div>
    <div *ngFor="let url of info.urls; let i = index; trackBy:trackByIndex" class="flex flex-row">
        <div class="w-11/12">
            <mat-form-field class="w-full" hintLabel="{{resources.aLinkToAWebsite}}">
                <input matInput class="w-full" maxlength="255" type="text" [dir]="'ltr'" [(ngModel)]="info.urls[i]" placeholder="{{resources.website}}" />
            </mat-form-field>
        </div>
        <div class="w-1/12">
            <button mat-button class="w-full h-full min-w-unset no-padding" (click)="removeUrl(i)"><i class="fa icon-trash"></i></button>
        </div>
    </div>
    <br />
    <div class="flex flex-row cursor-pointer" (click)="addEmptyUrl()">
        <div class="w-11/12">
            {{resources.addLink}}
        </div>
        <div class="w-1/12">
            <button mat-button class="w-full h-full min-w-unset no-padding"><i class="fa icon-plus"></i></button>
        </div>
    </div>
    <div *ngIf="isPoint()">
        <div class="flex flex-row">
            <mat-form-field class="w-full">
                <mat-select class="w-full" placeholder="{{resources.categories}}" [ngModel]="selectedCategory" (selectionChange)="selectCategory($event)">
                    <mat-option *ngFor="let category of categories" [value]="category"><i class="fa" [ngClass]="category.icon" [style.color]="category.color"></i> {{resources.translate(category.label)}}</mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <br />
        <div class="flex flex-row flex-wrap" *ngIf="selectedCategory">
            <button mat-button *ngFor="let icon of selectedCategory.icons" (click)="selectIcon(icon)" class="flex-1" [ngClass]="{active: icon === selectedCategory.selectedIcon}">
                <i class="fa fa-lg" [ngClass]="icon.icon" [style.color]="icon.color"></i>
                <br />
                <span class="chrome-wordwrap-fix category-button-text">{{resources.translate(icon.label)}}</span>
            </button>
        </div>
        <br />
    </div>
</div>