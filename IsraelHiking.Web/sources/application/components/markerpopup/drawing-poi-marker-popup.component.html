<div class="marker-popup" [dir]="resources.direction">
    <h4 [ngClass]="resources.getTextAlignment(title)" [dir]="resources.getDirection(title)">{{title}}</h4>
    <div fxLayout="row">
        <p fxFill [ngClass]="resources.getTextAlignment(description)" [dir]="resources.getDirection(description)">
            <img *ngIf="imageLink"
                 [src]="resources.getResizedImageUrl(imageLink.url, 300)"
                 class="img-placeholder cursor-zoom-in"
                 [style.float]="resources.getImageFloat(description)" 
                 (click)="showImage()"/>
            <i *ngIf="!imageLink"
               class="fa fa-5x img-placeholder icon-camera flex-center"
               [style.float]="resources.getImageFloat(description)">
            </i>
            <ng-container>
                {{description}}<br />
            </ng-container>
        </p>
    </div>
    <div fxLayout="row">
        <div fxFlex>
            <button mat-button type="button" (click)="hideCoordinates = !hideCoordinates" matTooltip="{{resources.showCoordinates}}" matTooltipPosition="above" fxFill><i class="fa icon-globe"></i></button>
        </div>
        <div fxFlex *ngIf="showUploadPointButton()">
            <button mat-button type="button" (click)="uploadPoint($event)" matTooltip="{{resources.uploadPoint}}" matTooltipPosition="above" angulartics2On="click" angularticsCategory="OSM" angularticsAction="Open upload point dialog" fxFill><i class="fa icon-cloud-upload"></i></button>
        </div>
        <div fxFlex>
            <button mat-button type="button" (click)="changeToEditMode()" matTooltip="{{resources.editPoi}}" matTooltipPosition="above" angulartics2On="click" angularticsCategory="Drawing" angularticsAction="Edit POI from POI" fxFill><i class="fa icon-pencil"></i></button>
        </div>
    </div>
    <div *ngIf="!hideCoordinates">
        <coordinates [latLng]="latLng" [itmCoordinates]="itmCoordinates"></coordinates>
    </div>
</div>
